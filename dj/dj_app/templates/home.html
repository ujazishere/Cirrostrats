{% extends "dj_app/base.html" %}

{% load static %}

{% block content %}
<!DOCTYPE html>
<html>
<head>
  <title>LETSLFYSAFE</title>
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <link rel="stylesheet" type="text/css" href="{% static 'home.css' %}">


</head>
<body>
  <h1>Cirrostrats</h1> 

  <h2>Check Weather, Gate And Flight Information</h2>
  <!-- <div class="links-container">
    <p><a href="{% url 'gate_check' %}">Gate Check</a></p>
    <p><a href="{% url 'flight_lookup' %}">Flight Lookup</a></p>
    <p><a href="{% url 'weather' %}">Weather</a></p>
  </div> -->
  {% csrf_token %}

  
<form method="post" class="search-form">
  {% csrf_token %}
  <label for="query"></label>
  <input type="text" name="query" id="query">
  <button type="submit" id="searchButton">Search</button>
  <div class="loading-spinner" id="loadingSpinner"></div>
</form>
    
    <h3 id="randomH3" class="hidden"></h3>

      <p></p>
    <h3><a href="{% url 'guide' %}"> Guide </a></h3>
    <h3><a href="{% url 'live_map' %}"> Live Map </a></h3>

    <div id="toast" class="toast"></div>

    <script>
// Function to show toast message
function showToast(message) {
  var toast = document.getElementById("toast");
  toast.innerHTML = message;
  toast.className = "toast show";
}

// Call the showToast function with your desired message
// TODO: is: make this an alert using yellow triangle icon - https://getbootstrap.com/docs/5.3/components/alerts/
showToast("!! Please save and access the main webapp through: <a href='https://cirrostrats.us'>cirrostrats.us</a>. This test server will be shutting down soon.<a href='tel:+12015099485'>+1 201-509-9485</a> - Ujas (UJ)");

// Add event listener to the search button
document.getElementById("searchButton").addEventListener("click", function(event) {
  // Prevent the default form submission behavior
  event.preventDefault();

  // Show the loading spinner
  document.getElementById("loadingSpinner").style.display = "block";

  // Submit the form after a short delay to allow the loading spinner to be displayed
  setTimeout(function() {
    document.querySelector(".search-form").submit();
  },10); // Adjust the delay as needed
});


// TODO: is Style these as `info` prompts using bootstraps
window.addEventListener("load", function() {
  // Array of h3 tag contents
  const h3Contents = [
    "Want to know if your gate is occupied in Newark? Look up the gate. For example: 71x",
    "Hit the live map to see the HD weather radar",
    "Want to know the weather at a particular airport? Look it up."
  ];

  // Get a random index within the range of the array length
  const randomIndex = Math.floor(Math.random() * h3Contents.length);

  // Get the h3 element
  const randomH3 = document.getElementById("randomH3");

  // Set the content of the h3 element to the randomly chosen content
  randomH3.textContent = h3Contents[randomIndex];

  // Add the animation class to make the h3 visible with animation
  randomH3.classList.add("visible");
});



    </script>

  </body>

  </html>
</body>
</html>

{% endblock %}
