
<table class="summary-table" id="summary_box_js">
</table>






<script>   
 
    // This is where the section starts. Seems like the html up above loads then comes down here. 
    // Once here 
    document.addEventListener('DOMContentLoaded', function() {
            // This loads up right away
        
        var airport ='{{ airport }}' 
        var url = 'summary_box/' + airport +'/'
        // This is where the data is pulled from the views function data_v. This is the first point of access.
            fetch(url)
        .then(response => response.json())
        .then(data => {             // data is a variable that pulls in data_v's bulk_flight_deet dictionary
            let bulk_flight_deets = data;
            let flt_num = bulk_flight_deets.flight_number;
            let registration = bulk_flight_deets.registration;
            
            function summary_box(bulk_flight_deets) {
                console.log("here in summary box", );

                var summary_box_js = document.getElementById('summary_box_js');


                var thead = document.createElement('thead');
                var tr = document.createElement('tr');
                var th = document.createElement('th');
                var span = document.createElement('span');
                
                span.className = 'small-text';
                span.innerHTML = registration;
                th.innerHTML = flt_num;
                th.colSpan = '2';
                
                th.appendChild(span);
                tr.appendChild(th);
                thead.appendChild(tr);
                summary_box_js.appendChild(thead)

            }
            
            // To use the function you have to use this
            summary_box(bulk_flight_deets);


        })
        .catch(error => console.error('Error Console:', error));
    });
</script>